# VNF Orchestration Configuration
vnf_types:
  - firewall
  - encryption
  - spamfilter

# Service Function Chain Definitions
sfc_request_types:
  email_simple:
    chain:
      - firewall
      - encryption
      - smtp_server
      - spamfilter
      - decryption
      - receiver
    description: "Single simplified flow: FW -> encryption -> SMTP -> spam -> decryption -> receiver"
    direction: "bidirectional"

# Server â†’ Receiver (Complementary chains)
# Removed: using a single simplified chain; reverse will be auto-generated if needed

# Orchestration Flow Configuration
orchestration_flow:
  # Determine SFC Type
  sfc_detection:
    metadata_inspection: true
    request_classification: true
    priority_based_selection: true
    
  # Build SFC Request
  sfc_building:
    instantiate_chain: true
    ordered_vnf_list: true
    bidirectional_handling: true
    
  # Allocate VNFs
  vnf_allocation:
    drl_placement: true
    arima_forecasting: true
    priority_based_traversal: true
    data_center_optimization: true

# Scaling configuration
min_instances: 1
max_instances: 5

# Scaling thresholds
scaling_thresholds:
  cpu_upper: 80      # Scale out when CPU > 80%
  cpu_lower: 30      # Scale in when CPU < 30%
  memory_upper: 85   # Scale out when memory > 85%
  memory_lower: 40   # Scale in when memory < 40%
  latency_upper: 1000  # Scale out when latency > 1000ms
  latency_lower: 200   # Scale in when latency < 200ms

# DRL Configuration
drl_config:
  learning_rate: 0.001
  epsilon_start: 1.0
  epsilon_end: 0.01
  epsilon_decay: 0.995
  memory_size: 10000
  batch_size: 32
  target_update: 1000
  attention_heads: 8
  hidden_size: 128

# Enhanced ARIMA forecasting configuration
forecasting:
  window_size: 20        # Number of data points for ARIMA model
  forecast_steps: 3      # Number of steps to forecast ahead
  confidence_threshold: 0.7  # Minimum confidence for forecasting decisions
  seasonal_period: 24    # Seasonal period for SARIMA
  max_p: 3              # Maximum AR order
  max_d: 2              # Maximum differencing order
  max_q: 3              # Maximum MA order

# Rolling update configuration
rolling_update:
  health_check_timeout: 30  # Seconds to wait for health check
  drain_timeout: 60         # Seconds to drain connections
  grace_period: 10          # Grace period before termination

# Performance Targets (Empirical Validation Results)
performance_targets:
  sfc_acceptance_ratio: 97      # Target: 97% (achieved with DRL+ARIMA)
  cpu_cycles_reduction: 45      # Target: 45% reduction in CPU cycles
  latency_improvement: 38        # Target: 38% improvement in E2E latency
  arima_forecast_accuracy: 92    # Target: 92% forecast accuracy (MAPE: 8%)

# Monitoring configuration
monitoring:
  metrics_interval: 30      # Seconds between metrics collection
  orchestration_interval: 60  # Seconds between orchestration checks
  prometheus_port: 9090     # Prometheus metrics port
  sfc_metrics: true         # Enable SFC-specific metrics
  performance_validation: true  # Enable performance validation

# SDN/Network configuration
sdn:
  controller_url: "http://localhost:8080"  # SDN controller URL
  flow_update_timeout: 10   # Seconds to wait for flow updates
  bidirectional_routing: true  # Enable bidirectional SFC routing

# Docker configuration
docker:
  network_name: "vnf-network"  # Docker network for VNFs
  image_prefix: "vnf-"         # Prefix for VNF images
  metrics_port: 8080           # Port for VNF metrics endpoint
  sfc_network: "sfc-network"   # Dedicated network for SFC traffic
